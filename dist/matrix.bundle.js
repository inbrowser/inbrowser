(()=>{"use strict";var t={};((t,r)=>{var e;function a(t){var r;if(t.forEach((function(t){var a,n;null==r&&(a=t[0],n=t[1],r=null==a?{result:null,error:e.PARAMETER_EMPTY.replace("%s",n)}:null)})),null!=r)return r}r.__esModule=!0,r.matrix_solve_AX_eq_Y=r.matrix_exponential=r.matrix_determinant=r.lu_factorization=r.MatrixErrors=r.createMatrix=r.matrix_inverse=r.matrix_product=void 0,r.matrix_product=function(t,r){var e=a([[t,"a"],[r,"b"]]);if(null!=e)return e;try{return{result:mathjs.multiply(t,r)}}catch(t){return{result:null,error:t.message}}},r.matrix_inverse=function(t){var r=a([[t,"a"]]);if(null!=r)return r;try{return{result:mathjs.inv(t)}}catch(t){return{result:null,error:t.message}}},r.createMatrix=function(t,r,e){void 0===e&&(e=r);for(var a=[],n=0;n<e;n++){a[n]=[];for(var s=0;s<r;s++){var u=t[n*r+s];(null==u||Number.isNaN(u))&&(u=0),a[n][s]=u}}return mathjs.matrix(a,"dense","number")},function(t){t.PARAMETER_EMPTY='The parameter "%s" should not be null of undefined',t.NOT_INVERTIBLE="Matrix not invertible",t.VECTOR_B_INVALID_SIZE="The number of values in b is not equals to the number of rows in A."}(e=r.MatrixErrors||(r.MatrixErrors={})),r.lu_factorization=function(t,r,n){void 0===n&&(n=!1);var s=a([[t,"matrix"],[r,"b"]]);if(null!=s)return s;if(t.size().shift()!=r.length)return{result:null,error:e.VECTOR_B_INVALID_SIZE};try{if(n)return function(t,r){var e=[],a=t,n=t,s=t,u=!1,i=[{text:"Matrix must be two dimensional",ok:!0},{text:"Matrix must be square",ok:!0}],l=t.size();2!==l.length&&(i[0].ok=!1,u=!0);var o=l[0];if(o!==l[1]&&(i[1].ok=!1,u=!0),e.push({text:"Checking the format of the submitted matrix",steps:i}),!u){for(var m=[],h=[],c=null,x=0;x<o;x++){h.push(x);var v=mathjs.subset(t,mathjs.index(h,h)),f={text:"Checking leading minor $\\Delta_"+(x+1)+"$",ok:0!=(c=mathjs.det(v))};if(m.push(f),!f.ok){u=!0;break}}u||m.push({text:"Matrix must be invertible ($\\Delta_"+o+" \\neq 0$)",ok:0!=c}),e.push({text:"Check preconditions",steps:m})}if(!u){a=(f=mathjs.lup(t)).L,n=f.U,e.push({text:"Create U with Gauss reduction",steps:{type:"matrix",value:n.toArray()}}),e.push({text:"Create L with the coefficients used in Gauss reduction (the k in $L_j <- L_j - k * L_i$)",steps:{type:"matrix",value:a.toArray()}});var _=mathjs.lsolve(a,r);e.push({text:"Find Y given that $LY = b$",steps:{type:"matrix",value:_.toArray().flat()}}),s=mathjs.usolve(n,_),e.push({text:"Find X given that $UX = Y$",steps:{type:"matrix",value:s.toArray().flat()}})}return u?{result:{L:null,U:null,X:null,steps:e}}:{result:{L:a.toArray(),U:n.toArray(),X:s.toArray().flat(),steps:e}}}(t,r);var u=mathjs.lup(t),i=mathjs.lusolve(u,r);return{result:{L:u.L.toArray(),U:u.U.toArray(),X:i.toArray().flat()}}}catch(t){var l=t.message;switch(l){case"Dimension mismatch. Matrix columns must match vector length.":l=e.VECTOR_B_INVALID_SIZE;break;case"Linear system cannot be solved since matrix is singular":l=e.NOT_INVERTIBLE}return{result:null,error:l}}},r.matrix_determinant=function(t){var r=a([[t,"matrix"]]);if(null!=r)return r;try{return{result:mathjs.det(t)}}catch(t){return{result:null,error:t.message}}},r.matrix_exponential=function(t){var r=a([[t,"matrix"]]);if(null!=r)return r;try{return{result:mathjs.expm(t)}}catch(t){return{result:null,error:t.message}}},r.matrix_solve_AX_eq_Y=function(t,r){var e=a([[t,"A"],[r,"Y"]]);if(null!=e)return e;try{var n=mathjs.inv(t);return{result:mathjs.multiply(n,r)}}catch(t){return{result:null,error:t.message}}}})(0,t),window.inbrowser_matrix=t})();